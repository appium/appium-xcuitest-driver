sudo: required
env:
  - _FORCE_LOGS=1
language:
  - objective-c
osx_image: xcode7.2
git: # Handle git submodules yourself
  submodules: false
before_install:
  - git submodule update --init --recursive
  # TavisCI's OSX environment gives us node 0.10.32
  # Use NVM to update it to 0.12
  - rm -rf ~/.nvm
  - git clone https://github.com/creationix/nvm.git ~/.nvm
  - source ~/.nvm/nvm.sh
  - nvm install 0.12
before_script:
  - npm install
  - npm install -g gulp
  - npm install -g mocha
  # fail early if there are linting issues
  # TODO: update once eslint is in place
  - gulp jshint
script:
  - gulp test
  - gulp coveralls
