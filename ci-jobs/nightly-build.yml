# https://docs.microsoft.com/azure/devops/pipelines/languages/android
jobs:

  # Run node tests on past node versions
  - template: ./templates/node-build-template.yml
    parameters:
      nodeVersion: 12.x
      name: Node12_Tests
  - template: ./templates/node-build-template.yml
    parameters:
      nodeVersion: 10.x
      name: Node10_Tests

  # Run the E2E tests on local simulators across different ios and xcode versions
  - template: ./templates/xcuitest-e2e-template.yml
    parameters:
      name: iPhoneXS_13
      iosVersion: 13.0
      xcodeVersion: 11
      deviceName: "iPhone XS"
      tvosName: AppleTV_13
      tvosDeviceName: "Apple TV"
  - template: ./templates/xcuitest-e2e-template.yml
    parameters:
      name: iPhoneXR_12_2
      iosVersion: 12.2
      xcodeVersion: 10.2
      deviceName: "iPhone XR"
      tvosName: AppleTV_12_2
      tvosDeviceName: "Apple TV"
  - template: ./templates/xcuitest-e2e-template.yml
    parameters:
      name: iPhoneXSMax_12_1
      iosVersion: 12.1
      xcodeVersion: 10.1
      deviceName: "iPhone XS Max"
      tvosName: AppleTV_12_1
      tvosDeviceName: "Apple TV"
  - template: ./templates/xcuitest-e2e-template.yml
    parameters:
      name: iPhone7_12
      iosVersion: 12.0
      xcodeVersion: 10
      deviceName: "iPhone 7"
      tvosName: AppleTV_12
      tvosDeviceName: "Apple TV"
  - template: ./templates/xcuitest-e2e-template.yml
    parameters:
      name: iPhone7_11_4
      iosVersion: 11.4
      xcodeVersion: "9.4.1"
      deviceName: "iPhone 7"
      tvosName: AppleTV_11_4
      tvosDeviceName: "Apple TV"
